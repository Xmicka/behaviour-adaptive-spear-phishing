services:
  - type: web
    name: adaptive-spear-phishing-api
    runtime: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn backend.api_server:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120
    envVars:
      - key: SMTP_EMAIL
        sync: false
      - key: SMTP_PASSWORD
        sync: false
      - key: EMAIL_ENABLED
        value: "true"
      - key: PLATFORM_BASE_URL
        sync: false
      - key: RISK_THRESHOLD_EMAIL
        value: "0.5"
      - key: FIREBASE_CREDENTIALS_BASE64
        sync: false
      - key: CORS_ALLOWED_ORIGINS
        sync: false
      - key: COLLECTOR_API_KEY
        sync: false
